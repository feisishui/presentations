/**
 * Copyright @ 2016 Esri.
 * All rights reserved under the copyright laws of the United States and applicable international laws, treaties, and conventions.
 */
define(["dojo/_base/lang","esri/geometry/support/units","esri/core/lang","esri/geometry/support/webMercatorUtils","esri/geometry/support/WKIDUnitConversion"],function(e,r,s,i,t){function n(e,r){var i;if(s.isDefined(t[r.wkid]))i=t.values[t[r.wkid]];else{var n=r.wkt,a=n.lastIndexOf(",")+1,o=n.lastIndexOf("]]");i=parseFloat(n.substring(a,o))}return e*i}var a={esriCentimeters:.01,esriDecimeters:.1,esriFeet:.3048,esriInches:.0254,esriKilometers:1e3,esriMeters:1,esriMiles:1609.34,esriMillimeters:.001,esriNauticalMiles:1852,esriYards:.9144,esriDecimalDegrees:111320},o={SECOND:"esriSecond",MILLISECOND:"esriMillisecond",PERCENTAGE:"esriPercentage"};return o.label=function(e){switch(e){case o.SECOND:return"s";case o.MILLISECOND:return"ms";case o.METERS:return"m";case o.PERCENTAGE:return"%";default:return"unknown"}},o.toMeters=function(e,r,i){if(!r||isNaN(r))return null;var o=r*a[e],l=null;i.isWebMercator?l="webMercator":(s.isDefined(t[i.wkid])||i.wkt&&0===i.wkt.indexOf("PROJCS"))&&(l="projected");var u=null;return("webMercator"===l||"projected"===l)&&(u=o/n(1,i)),u},e.mixin(o,r)});